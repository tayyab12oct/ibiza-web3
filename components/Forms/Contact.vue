<template>
  <div class="page-wrap">
    <v-snackbar
      :timeout="4000"
      top
      right
      v-model="snackbar"
      class="notification"
    >
      <div class="action">
        Message Sent
      </div>
      <v-btn
        text
        icon
        @click="snackbar = false"
      >
        <v-icon>mdi-close</v-icon>
      </v-btn>
    </v-snackbar>
    <hidden point="mdUp">
      <div class="logo logo-header">
        <nuxt-link :to="routeLink">
          <img :src="logo" alt="logo">
          <span class="use-text-title">
            {{ brand.saas.projectName }}
          </span>
        </nuxt-link>
      </div>
    </hidden>
    <v-container class="inner-wrap max-md">
      <v-btn
        :href="routeLink"
        icon
        class="backtohome"
      >
        <i class="ion-ios-home-outline" />
        <i class="ion-ios-arrow-round-back-outline" />
      </v-btn>
      <div class="decoration">
            <svg class="wave" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1319.89 550.65">
              <defs>
                <style>
                  .i {
                    fill: none;
                    stroke: #90ffff;
                    stroke-miterlimit: 10;
                    stroke-width: 0.56px;
                  }
                </style>
              </defs><g id="a"/>
              <g id="b">
                <g><path class="i" d="M144.35,454.47c130.97,126,331.01,113.88,488.17,7.2,157.16-106.68,362.22,66.68,430.28-18.04s-24.08-157.78,257.09-77.03"/><path class="i" d="M1318.78,361.91c-275.66-79.16-188.67-9.54-257.37,74.31-14.09,17.25-33.85,23.72-57.65,24.4-92.46,2.66-245.33-85.67-370.11-4.53-88.59,57.61-192.15,85.88-289.17,78.02-75.61-6.08-147.01-32.75-202.88-86.5"/><path class="i" d="M1317.67,357.23c-270.15-77.57-188.29-11.4-257.66,71.58-14.15,17.04-33.83,23.48-57.39,24.59-92.3,4.37-243.04-80.49-367.86-2.88-88.38,54.95-193.07,81.4-291.14,73.62-77.3-6.05-150.03-30.72-204.79-83.4"/><path class="i" d="M1316.56,352.55c-264.63-75.99-188.12-13.43-257.94,68.85-14.26,16.8-33.81,23.24-57.13,24.79-92.17,6.1-240.73-75.32-365.61-1.24-88.16,52.3-193.98,76.93-293.11,69.22-78.98-6.01-153.06-28.69-206.69-80.29"/><path class="i" d="M1315.46,347.87c-259.12-74.41-187.81-15.34-258.22,66.12-14.33,16.58-33.79,23.02-56.87,24.98-92.06,7.84-238.4-70.15-363.36,.4-87.92,49.64-194.9,72.45-295.09,64.82-80.67-5.98-156.08-26.66-208.6-77.18"/><path class="i" d="M1314.35,343.19c-253.61-72.83-187.5-17.26-258.5,63.39-14.4,16.36-33.78,22.79-56.6,25.18-91.96,9.6-236.04-64.99-361.1,2.04-87.66,46.98-195.81,67.98-297.06,60.42-82.36-5.95-159.11-24.62-210.51-74.07"/><path class="i" d="M1313.24,338.51c-248.09-71.24-187.18-19.17-258.78,60.66-14.48,16.14-33.78,22.58-56.34,25.37-91.88,11.37-233.64-59.83-358.85,3.68-87.39,44.33-196.73,63.5-299.03,56.02-84.05-5.91-162.13-22.59-212.42-70.97"/><path class="i" d="M1312.13,333.83c-242.58-69.66-186.86-21.08-259.06,57.93-14.55,15.92-33.77,22.37-56.08,25.56-91.81,13.16-231.22-54.68-356.6,5.32-87.09,41.68-197.64,59.03-301,51.62-85.74-5.88-165.16-20.56-214.32-67.86"/><path class="i" d="M1311.02,329.15c-237.07-68.08-186.54-22.99-259.34,55.2-14.62,15.71-33.77,22.16-55.82,25.76-91.76,14.96-228.77-49.52-354.35,6.96-86.77,39.03-198.55,54.56-302.97,47.22-87.43-5.85-168.18-18.53-216.23-64.75"/><path class="i" d="M1309.91,324.47c-231.56-66.49-186.21-24.9-259.62,52.47-14.7,15.49-33.77,21.97-55.56,25.95-91.72,16.78-226.29-44.36-352.1,8.61-86.44,36.39-199.47,50.08-304.94,42.82-89.11-5.81-171.21-16.49-218.14-61.64"/><path class="i" d="M1308.81,319.79c-226.04-64.91-185.88-26.81-259.9,49.74-14.77,15.27-33.77,21.78-55.29,26.15-91.7,18.63-223.77-39.2-349.85,10.25-86.08,33.76-200.38,45.61-306.91,38.41-90.8-5.78-174.23-14.46-220.05-58.54"/><path class="i" d="M1307.7,315.1c-220.53-63.33-185.55-28.71-260.18,47.01-14.84,15.05-33.77,21.59-55.03,26.34-91.68,20.49-221.22-34.03-347.6,11.89-85.7,31.14-201.3,41.13-308.88,34.01-92.49-5.75-177.26-12.43-221.95-55.43"/><path class="i" d="M1306.59,310.42c-215.02-61.74-185.21-30.62-260.46,44.28-14.91,14.84-33.78,21.41-54.77,26.54-91.68,22.37-218.64-28.84-345.35,13.53-85.3,28.53-202.2,36.43-310.86,29.61-94.17-5.91-180.28-10.4-223.86-52.32"/><path class="i" d="M1305.48,305.74c-209.5-60.16-184.87-32.52-260.74,41.56-14.97,14.62-33.78,21.24-54.51,26.73-91.68,24.28-216.03-23.65-343.1,15.17-84.88,25.93-203.11,31.95-312.83,25.21-95.85-5.88-183.31-8.36-225.77-49.21"/><path class="i" d="M1304.37,301.06c-203.99-58.58-184.53-34.42-261.03,38.83-15.04,14.4-33.79,21.08-54.24,26.92-91.69,26.21-213.39-18.44-340.85,16.81-84.43,23.35-204.03,27.47-314.8,20.81-97.54-5.86-186.33-6.33-227.68-46.11"/><path class="i" d="M1303.26,296.38c-198.48-56.99-184.18-36.32-261.31,36.1-15.11,14.19-33.79,20.92-53.98,27.12-91.7,28.16-210.71-13.21-338.59,18.46-83.97,20.79-204.94,22.99-316.77,16.41-99.23-5.83-189.36-4.3-229.58-43"/><path class="i" d="M1302.16,291.7c-192.96-55.41-183.84-38.22-261.59,33.37-15.18,13.97-33.8,20.77-53.72,27.31-91.72,30.14-208.01-7.96-336.34,20.1-83.49,18.25-205.86,18.51-318.74,12.01-100.92-5.81-192.38-2.27-231.49-39.89"/><path class="i" d="M1301.05,287.02c-187.45-53.83-183.48-40.11-261.87,30.64-15.24,13.76-33.81,20.62-53.46,27.51-91.73,32.14-205.28-2.68-334.09,21.74-82.99,15.73-206.77,14.03-320.71,7.61-102.61-5.78-195.41-.23-233.4-36.79"/><path class="i" d="M1299.94,282.34c-181.94-52.24-183.13-42.01-262.15,27.91-15.31,13.54-33.81,20.48-53.19,27.7-91.75,34.16-202.52,2.63-331.84,23.38-82.47,13.23-207.69,9.55-322.68,3.21-104.3-5.75-198.43,1.8-235.31-33.68"/><path class="i" d="M1298.83,277.66c-176.42-50.66-182.77-43.9-262.43,25.18-15.37,13.33-33.82,20.35-52.93,27.89-91.76,36.21-199.74,7.97-329.59,25.02-81.94,10.76-208.6,5.08-324.65-1.19-105.98-5.72-201.46,3.83-237.21-30.57"/><path class="i" d="M1297.72,272.98c-170.91-49.08-182.41-45.78-262.71,22.45-15.44,13.12-33.82,20.22-52.67,28.09-91.77,38.29-196.93,13.34-327.34,26.66-81.4,8.31-209.52,.6-326.63-5.59-107.67-5.69-204.48,5.86-239.12-27.46"/><path class="i" d="M1296.61,268.3c-165.4-47.49-182.04-47.67-262.99,19.72-15.5,12.9-33.82,20.1-52.41,28.28-91.78,40.39-194.11,18.75-325.09,28.31-80.85,5.9-210.43-3.87-328.6-9.99-109.36-5.66-207.51,7.9-241.03-24.36"/><path class="i" d="M1295.51,263.61c-159.88-45.91-181.67-49.55-263.27,16.99-15.56,12.69-33.82,19.99-52.15,28.48-91.77,42.52-191.28,24.21-322.84,29.95-80.28,3.5-211.35-8.35-330.57-14.39-111.05-5.63-210.53,9.93-242.94-21.25"/><path class="i" d="M1294.4,258.93c-154.37-44.33-181.3-51.43-263.55,14.26-15.62,12.48-33.82,19.88-51.88,28.67-91.76,44.67-188.43,29.7-320.59,31.59-79.71,1.14-212.26-12.82-332.54-18.79-112.74-5.59-213.56,11.96-244.84-18.14"/><path class="i" d="M1293.29,254.25c-148.86-42.75-180.93-53.31-263.83,11.54-15.69,12.27-33.81,19.77-51.62,28.87-91.73,46.85-185.58,35.24-318.34,33.23-79.14-1.2-213.18-17.29-334.51-23.19-114.43-5.56-216.58,13.99-246.75-15.03"/><path class="i" d="M1292.18,249.57c-143.34-41.16-180.55-55.18-264.11,8.81-15.75,12.06-33.81,19.67-51.36,29.06-91.7,49.05-182.72,40.82-316.08,34.87-78.56-3.51-214.09-21.76-336.48-27.59-116.12-5.52-219.61,16.02-248.66-11.93"/><path class="i" d="M1291.07,244.89c-137.83-39.58-180.17-57.05-264.4,6.08-15.81,11.85-33.8,19.57-51.1,29.25-91.65,51.27-179.86,46.45-313.83,36.51-77.99-5.79-215.01-26.24-338.45-31.99-117.8-5.49-222.63,18.06-250.57-8.82"/><path class="i" d="M1289.97,240.21c-132.32-38-179.79-58.92-264.68,3.35-15.87,11.64-33.78,19.48-50.83,29.45-91.58,53.52-177.01,52.13-311.58,38.15-77.42-8.04-215.93-30.46-340.42-36.39-119.5-5.22-225.65,20.09-252.47-5.71"/><path class="i" d="M1288.86,235.53c-126.8-36.41-179.41-60.78-264.96,.62-15.93,11.43-33.77,19.39-50.57,29.64-91.49,55.79-174.17,57.85-309.33,39.8-76.85-10.27-216.85-34.93-342.4-40.79-121.19-5.18-228.68,22.12-254.38-2.6"/><path class="i" d="M1287.75,230.85c-121.29-34.83-179.02-62.64-265.24-2.11-15.99,11.22-33.75,19.31-50.31,29.84-91.39,58.09-171.35,63.62-307.08,41.44-76.29-12.47-217.76-39.41-344.37-45.19-122.88-5.15-231.7,24.15-256.29,.5"/><path class="i" d="M1286.64,226.17c-115.78-33.25-178.63-64.49-265.52-4.84-16.05,11.02-33.73,19.23-50.05,30.03-91.27,60.4-168.54,69.44-304.83,43.08-75.74-14.65-218.68-43.88-346.34-49.59-124.57-5.12-234.73,26.19-258.19,3.61"/><path class="i" d="M1285.53,221.49c-110.26-31.66-178.24-66.35-265.8-7.57-16.1,10.81-33.7,19.15-49.78,30.22-91.13,62.74-165.75,75.3-302.58,44.72-75.2-16.81-219.59-48.36-348.31-53.99-126.26-5.09-237.75,28.22-260.1,6.72"/><path class="i" d="M1284.42,216.81c-104.75-30.08-177.84-68.19-266.08-10.3-16.16,10.6-33.67,19.08-49.52,30.42-90.96,65.1-162.98,81.2-300.33,46.36-74.68-18.94-220.5-52.83-350.28-58.39-127.94-5.05-240.78,30.25-262.01,9.83"/><path class="i" d="M1283.32,212.12c-99.24-28.5-177.45-70.04-266.36-13.03-16.22,10.4-33.64,19-49.26,30.61-90.78,67.47-160.25,87.15-298.08,48-74.17-21.06-221.42-57.31-352.25-62.79-129.63-5.02-243.8,32.28-263.92,12.93"/><path class="i" d="M1282.21,207.44c-93.72-26.91-177.05-71.88-266.64-15.76-16.28,10.2-33.61,18.93-49,30.81-90.57,69.86-157.54,93.13-295.83,49.65-73.67-23.17-222.33-61.78-354.22-67.19-131.32-4.99-246.83,34.32-265.82,16.04"/><path class="i" d="M1281.1,202.76c-88.21-25.33-176.65-73.71-266.92-18.49-16.33,9.99-33.57,18.86-48.74,31-90.33,72.27-154.86,99.14-293.57,51.29-73.2-25.25-223.25-66.26-356.2-71.59-133.01-4.95-249.85,36.35-267.73,19.15"/><path class="i" d="M1279.99,198.08c-82.7-23.75-176.25-75.54-267.2-21.21-16.39,9.79-33.52,18.8-48.47,31.19-90.07,74.7-152.22,105.19-291.32,52.93-72.74-27.33-224.16-70.73-358.17-75.99-134.7-4.92-252.88,38.38-269.64,22.26"/><path class="i" d="M1278.88,193.4c-77.19-22.16-175.84-77.37-267.48-23.94-16.45,9.59-33.48,18.73-48.21,31.39-89.79,77.14-149.62,111.27-289.07,54.57-72.3-29.39-225.08-75.21-360.14-80.39-136.39-4.89-255.9,40.41-271.55,25.36"/><path class="i" d="M1277.77,188.72c-71.67-20.58-175.44-79.19-267.77-26.67-16.5,9.39-33.43,18.66-47.95,31.58-89.48,79.59-147.05,117.37-286.82,56.21-71.87-31.45-225.99-79.68-362.11-84.79-138.07-4.85-258.93,42.45-273.45,28.47"/><path class="i" d="M1276.67,184.04c-66.16-19-175.03-81-268.05-29.4-16.56,9.19-33.37,18.6-47.69,31.78-89.14,82.05-144.52,123.5-284.57,57.85-71.47-33.5-226.91-84.15-364.08-89.19-139.76-4.82-261.95,44.48-275.36,31.58"/><path class="i" d="M1275.56,179.36c-60.65-17.41-174.62-82.81-268.33-32.13-16.62,8.99-33.31,18.54-47.42,31.97-88.78,84.53-142.03,129.64-282.32,59.5-71.09-35.54-227.82-88.63-366.05-93.59-141.45-4.79-264.98,46.51-277.27,34.69"/><path class="i" d="M1274.45,174.68c-55.13-15.83-174.21-84.62-268.61-34.86-16.67,8.79-33.25,18.47-47.16,32.17-88.39,87.02-139.57,135.8-280.07,61.14-70.73-37.58-228.74-93.1-368.02-97.99-143.14-4.75-268,48.54-279.18,37.79"/><path class="i" d="M1273.34,170c-49.62-14.25-173.8-86.42-268.89-37.59-16.73,8.59-33.19,18.41-46.9,32.36-87.97,89.51-137.15,141.97-277.82,62.78-70.38-39.62-229.65-97.58-369.99-102.39-144.83-4.72-271.03,50.58-281.08,40.9"/><path class="i" d="M1272.23,165.32c-44.11-12.67-173.39-88.22-269.17-40.32-16.78,8.39-33.12,18.35-46.64,32.55-87.53,92.01-134.77,148.15-275.57,64.42-70.05-41.66-230.57-102.05-371.97-106.79-146.52-4.69-274.05,52.61-282.99,44.01"/><path class="i" d="M1271.12,160.63c-38.59-11.08-172.98-90.01-269.45-43.05-16.84,8.2-33.05,18.28-46.38,32.75-87.07,94.52-132.42,154.34-273.32,66.06-69.75-43.7-231.48-106.53-373.94-111.19C159.84,100.55,30.97,159.85,23.15,152.32"/><path class="i" d="M1270.02,155.95c-33.08-9.5-172.57-91.8-269.73-45.78-16.89,8-32.98,18.22-46.11,32.94-86.57,97.03-130.11,160.53-271.07,67.7-69.45-45.74-232.39-111-375.91-115.59C157.31,90.61,27.1,151.91,20.39,145.46"/><path class="i" d="M1268.91,151.27c-27.57-7.92-172.16-93.58-270.01-48.51-16.95,7.81-32.9,18.15-45.85,33.14-86.06,99.55-127.83,166.73-268.81,69.34-69.18-47.79-233.31-115.48-377.88-119.99C154.77,80.67,23.22,143.97,17.64,138.59"/><path class="i" d="M1267.8,146.59c-22.05-6.33-171.74-95.36-270.29-51.23-17,7.61-32.82,18.09-45.59,33.33-85.52,102.06-125.59,172.92-266.56,70.99-68.92-49.83-234.22-119.95-379.85-124.39C152.24,70.73,19.35,136.02,14.88,131.72"/><path class="i" d="M1266.69,141.91c-16.54-4.75-171.33-97.13-270.57-53.96-17.06,7.42-32.73,18.02-45.33,33.52-84.95,104.59-123.37,179.11-264.31,72.63-68.68-51.89-235.14-124.42-381.82-128.79C149.7,60.79,15.48,128.08,12.13,124.86"/><path class="i" d="M1265.58,137.23c-11.03-3.17-170.83-98.7-270.85-56.69-17.1,7.26-32.65,17.95-45.06,33.72-84.36,107.11-121.18,185.3-262.06,74.27-68.45-53.94-236.05-128.9-383.79-133.19C147.16,50.85,11.61,120.14,9.37,117.99"/><path class="i" d="M1264.47,132.55c-5.51-1.58-170.46-100.56-271.14-59.42-17.16,7.05-32.56,17.88-44.8,33.91-83.75,109.63-119.01,191.48-259.81,75.91-68.24-56.01-236.97-133.37-385.76-137.59C144.63,40.9,7.74,112.2,6.62,111.12"/><path class="i" d="M1263.37,127.87s-232.84-140.19-315.96-28.04c-83.12,112.15-116.88,197.65-257.56,77.55-68.03-58.08-237.88-137.85-387.74-141.99C142.09,30.96,3.86,104.26,3.86,104.26"/></g>
              </g><g id="c"/><g id="d"/><g id="e"/><g id="f"/><g id="g"/><g id="h"/></svg>
      </div>
      <v-card class="form-box fragment-fadeUp">
        <div class="full-form-wrap">
          <h3 class="use-text-title title-contact pb-3 text-center">
            {{ $t('common.contact_title2') }}
          </h3>
          <p class="desc use-text-subtitle2 text-center">
            {{ $t('common.contact_subtitle') }}
          </p>
          <div class="form">
            <v-form
              accept-charset="UTF-8"
              ref="form"
              v-model="valid"
              method="POST"
            >
              <v-row class="spacing6">
                <v-col cols="12" sm="6" class="px-6">
                  <v-text-field
                    v-model="name"
                    :rules="nameRules"
                    :label="$t('common.form_name')"
                    color="white"
                    class="input light"
                    filled
                    required
                  />
                </v-col>
                <v-col cols="12" sm="6" class="px-6">
                  <v-text-field
                    v-model="email"
                    :rules="emailRules"
                    :label="$t('common.form_email')"
                    class="input light"
                    color="white"
                    filled
                    required
                  />
                </v-col>
                <v-col cols="12" sm="6" class="px-6">
                  <v-text-field
                    v-model="phone"
                    :label="$t('common.form_phone')"
                    color="white"
                    class="input light"
                    filled
                  />
                </v-col>
                <v-col cols="12" sm="6" class="px-6">
                  <v-text-field
                    v-model="company"
                    :label="$t('common.form_company')"
                    color="white"
                    class="input light"
                    filled
                  />
                </v-col>
                <v-col cols="12" class="px-6">
                  <v-textarea
                    v-model="message"
                    rows="6"
                    color="white"
                    class="input light"
                    filled
                    :label="$t('common.form_message')"
                  />
                </v-col>
              </v-row>
              <div class="btn-area flex">
                <div class="form-control-label">
                  <v-checkbox
                    v-model="checkbox"
                    color="white"
                    :rules="[v => !!v || 'You must agree to continue!']"
                    :label="$t('common.form_terms')"
                    class="white-label"
                    required
                  />
                  <span>
                    <a href="https://ibizatoken.com/privacy-terms" class="link" style="color:white">
                      {{ $t('common.form_privacy') }}
                    </a>
                  </span>
                </div>
                <v-btn
                  :block="isMobile"
                  color="secondary"
                  @click="validate"
                  large
                >
                  {{ $t('common.form_send') }}
                </v-btn>
              </div>
            </v-form>
          </div>
        </div>
      </v-card>
    </v-container>
  </div>
</template>

<style lang="scss" scoped>
@import './form-style.scss';
@import '../Title/title-style.scss';
</style>

<script>
import logo from '~/static/images/saas-logo.svg'
import brand from '~/static/text/brand'
import link from '~/static/text/link'
import Hidden from '../Hidden'
import axios from 'axios'
export default {
  components: {
    Hidden
  },
  data() {
    return {
      valid: true,
      snackbar: false,
      name: '',
      nameRules: [v => !!v || 'Name is required'],
      email: '',
      emailRules: [
        v => !!v || 'E-mail is required',
        v => /.+@.+\..+/.test(v) || 'E-mail must be valid'
      ],
      phone: '',
      company: '',
      message: '',
      checkbox: false,
      logo: logo,
      brand: brand,
      routeLink: '/'
    }
  },
  methods: {
    validate() {
      if (this.$refs.form.validate()) {
        this.snackbar = true
        this.onSubmit()
      }
    },
    onSubmit() {
      let data = {
        name: this.name,
        email: this.email,
        message: this.message,
        phone: this.phone,
        company: this.company
      }
      axios
        .post(
          'https://getform.io/f/fdda20aa-1c60-4586-9c8e-cc4786731395',
          data,
          {
            headers: {
              Accept: 'application/json'
            }
          }
        )
        .then(
          response => {
            this.isSuccess = response.data.success ? true : false
            this.$refs.form.reset()
          },
          response => {
            // Error
            console.log('response', response)
          }
        )
    }
  },
  computed: {
    isMobile() {
      const smDown = this.$store.state.breakpoints.smDown
      return smDown.indexOf(this.$mq) > -1
    }
  }
}
</script>
